<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MapTest013.html</title>

<!-- 발급받은 App Key -->
<!-- appkey=2fffe9f1e38b25b65e667dd38b8dc364 -->
<!-- 지도의 중심 좌표 -->
<!-- 37.556583, 126.919521 -->

<!-- 길 건너 스타벅스 -->
<!-- 37.556854271404724, 126.91998776703981 -->

<!-- 홍대입구역 1번 출구 피자몰 -->
<!-- 37.55642574553787, 126.92253748784225 --> 

<script type="text/javascript" 
      src="//dapi.kakao.com/v2/maps/sdk.js?appkey=2fffe9f1e38b25b65e667dd38b8dc364"></script>
      
<script type="text/javascript">

   // 페이지 로드 됐을 때 이 함수안의 내용은 전역변수처럼 쓰임
   function initialize()
   {
      container = document.getElementById("map");
      options =
      {
         center: new kakao.maps.LatLng(37.556583, 126.919521)   // 풍성빌딩
         , level: 3                                   // 지도의 확대 레벨 
      }
      
      map = new kakao.maps.Map(container, options);
      
      // 지도에 표시할 마커 구성 (길 건너 스타벅스 → 37.556854271404724, 126.91998776703981 )
      markerPosition = new kakao.maps.LatLng(37.556854271404724, 126.91998776703981);
      
      // JSON 으로 구성하는 것이 일반적
      marker = new kakao.maps.Marker(
      {
         // 지도 중심 좌표에 마커 생성
         position: markerPosition
      });
      
      
      // 마커를 구성하고나서 지도에 그리는 과정이 필요함
      // 지도에 마커 표시
      marker.setMap(map);
      
   }
   
    // 마커 제거 함수 
   function removeMarker()
   {
      // 지도 위의 마커 제거
      marker.setMap(null);
   }   
   
    // 마커 다시 생성
    /*
    function createMarker()
   {
      marker.setMap(map);
   }
    */
    
    function createMarker()
   {
      // 마커가 표시될 위치(홍대입구역 1번 출구 피자몰 37.55642574553787, 126.92253748784225)
      markerPosition = new kakao.maps.LatLng(37.55642574553787, 126.92253748784225);
      
      // 마커 생성
      marker = new kakao.maps.Marker(
      {
         position: markerPosition
      });
      
      // 마커가 지도에 표시되도록 설정
      marker.setMap(map);
   }


</script>
</head>
<body onload="initialize()">

<div>
   <h1>Kakao Map 마커 표시</h1>
   <hr />
   
</div>


<!-- 지도를 그릴 div 공간 확보(지정) -->
<div id="map" style="width: 100%; height: 350px;"></div>

<p>
   지도 클릭으로 좌표 확인 및 마커 표시
</p>

<p>
   <button type="button" onclick="removeMarker()">마커 제거</button>
   <button type="button" onclick="createMarker()">마커 다시 생성</button>
</p>

<div id="result"></div>

</body>
</html>